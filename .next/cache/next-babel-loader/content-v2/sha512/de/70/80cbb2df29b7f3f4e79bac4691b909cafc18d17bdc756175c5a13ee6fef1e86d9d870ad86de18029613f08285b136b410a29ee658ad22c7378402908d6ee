{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useEffect, useState } from 'react';\nimport Link from 'next/link';\nimport Button from '../Button';\nimport style from '../../../styles/navbar.module.css';\nimport { useRouter } from 'next/router';\nimport axios from 'axios';\nimport { faPlus, faBell, faArrowUp, faUser, faTachometerAlt, faSignOutAlt } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nfunction Navbar() {\n  const {\n    0: user,\n    1: setUser\n  } = useState([]);\n  const {\n    0: image,\n    1: setImage\n  } = useState();\n  const {\n    0: sidebar,\n    1: setSidebar\n  } = useState(false);\n  const router = useRouter();\n\n  const handleLogin = () => {\n    router.push('/auth/signin');\n  };\n\n  const handleClickSidebar = () => {\n    setSidebar(!sidebar);\n  };\n\n  const handleSignUp = () => {\n    router.push('/auth/signup');\n  };\n\n  const handlelogout = () => {\n    localStorage.clear('token');\n    router.push('/');\n  };\n\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    const url = `${process.env.api}/users/find-one`;\n    axios.get(url, {\n      headers: {\n        Authorization: 'Bearer ' + token\n      }\n    }).then(res => {\n      const data = res.data.data[0];\n      setUser(data);\n      setImage(res.data.data[0].image); // console.log(res.data.data[0].image);\n    }).catch(err => {\n      console.log(err);\n    });\n  }, []);\n  let isAuthenticated;\n\n  if (false) {\n    isAuthenticated = localStorage.getItem(\"token\");\n  }\n\n  if (!isAuthenticated) {\n    return /*#__PURE__*/_jsx(\"nav\", {\n      className: \"navbar\",\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        className: \"container\",\n        children: [/*#__PURE__*/_jsx(Link, {\n          href: \"/\",\n          children: /*#__PURE__*/_jsx(\"a\", {\n            className: style['navbar-brand'],\n            children: \"Zwallet\"\n          })\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: \"d-flex btn-landing \",\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            className: \"mr-5 pt-5\",\n            children: /*#__PURE__*/_jsx(Button, {\n              title: \"Login\",\n              btn: \"btn-login\",\n              onClick: handleLogin\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"pt-5 mr-5\",\n            children: /*#__PURE__*/_jsx(Button, {\n              title: \"Sign Up\",\n              btn: \"btn-signup\",\n              onClick: handleSignUp\n            })\n          })]\n        })]\n      })\n    });\n  }\n\n  return /*#__PURE__*/_jsx(\"nav\", {\n    className: [[\"navbar\"], style[\"navbar-login\"]].join(\" \"),\n    children: /*#__PURE__*/_jsxs(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsx(Link, {\n        Link: true,\n        href: \"/\",\n        children: /*#__PURE__*/_jsx(\"a\", {\n          className: style['navbar-brands'],\n          children: \"Zwallet\"\n        })\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: \"d-flex \",\n        children: [image ? /*#__PURE__*/_jsx(\"img\", {\n          className: style[\"profile-img\"],\n          src: `${process.env.api_img}${image}`,\n          alt: \"ImgUser\"\n        }) : \"\", /*#__PURE__*/_jsxs(\"div\", {\n          className: style['name-phone'],\n          children: [user ? /*#__PURE__*/_jsx(\"p\", {\n            className: style['navbar-name'],\n            onClick: handleClickSidebar,\n            children: user.firstname == \"Your Firstname\" && user.lastname == \"Your Lastname\" ? \"Your Name\" : `${user.firstname} ${user.lastname} `\n          }) : \"\", user ? /*#__PURE__*/_jsx(\"p\", {\n            className: style['navbar-phone'],\n            children: user.phoneNumber\n          }) : \"\", sidebar === true && /*#__PURE__*/_jsx(\"div\", {\n            className: style.sidebar,\n            children: /*#__PURE__*/_jsx(\"div\", {\n              className: \"container\",\n              children: /*#__PURE__*/_jsxs(\"div\", {\n                className: \"row flex flex-wrap\",\n                children: [/*#__PURE__*/_jsxs(\"div\", {\n                  className: [[\"mb-5\"], style[\"icon-sidebar\"]].join(\" \"),\n                  children: [/*#__PURE__*/_jsx(FontAwesomeIcon, {\n                    icon: faTachometerAlt,\n                    className: style.iconSidebar\n                  }), /*#__PURE__*/_jsx(Link, {\n                    href: \"/home\",\n                    children: /*#__PURE__*/_jsx(\"a\", {\n                      className: style['dashboard'],\n                      children: \"Dashboard\"\n                    })\n                  })]\n                }), /*#__PURE__*/_jsxs(\"div\", {\n                  className: \"mb-5\",\n                  children: [/*#__PURE__*/_jsx(FontAwesomeIcon, {\n                    icon: faArrowUp,\n                    className: style.iconSidebar\n                  }), /*#__PURE__*/_jsx(Link, {\n                    href: \"/transfer\",\n                    children: /*#__PURE__*/_jsx(\"a\", {\n                      className: style['Transfer'],\n                      children: \"Transfer\"\n                    })\n                  })]\n                }), /*#__PURE__*/_jsxs(\"div\", {\n                  className: \"mb-5\",\n                  children: [/*#__PURE__*/_jsx(FontAwesomeIcon, {\n                    icon: faPlus,\n                    className: style.iconSidebar\n                  }), /*#__PURE__*/_jsx(Link, {\n                    href: \"/topup\",\n                    children: /*#__PURE__*/_jsx(\"a\", {\n                      className: style['top-up'],\n                      children: \"Top Up\"\n                    })\n                  })]\n                }), /*#__PURE__*/_jsxs(\"div\", {\n                  className: \"mb-5\",\n                  children: [/*#__PURE__*/_jsx(FontAwesomeIcon, {\n                    icon: faUser,\n                    className: style.iconSidebar\n                  }), /*#__PURE__*/_jsx(Link, {\n                    href: \"/profile\",\n                    children: /*#__PURE__*/_jsx(\"a\", {\n                      className: style['profile'],\n                      children: \"Profile\"\n                    })\n                  })]\n                }), /*#__PURE__*/_jsxs(\"div\", {\n                  className: [[\"mb-5\"], style[\"icon-logout\"]].join(\" \"),\n                  children: [/*#__PURE__*/_jsx(FontAwesomeIcon, {\n                    icon: faSignOutAlt,\n                    className: style.iconSidebar\n                  }), /*#__PURE__*/_jsx(Link, {\n                    href: \"#\",\n                    children: /*#__PURE__*/_jsx(\"a\", {\n                      className: style['log-out'],\n                      onClick: handlelogout,\n                      children: \"Logout\"\n                    })\n                  })]\n                })]\n              })\n            })\n          })]\n        }), /*#__PURE__*/_jsx(FontAwesomeIcon, {\n          className: style['icon-bell'],\n          icon: faBell\n        })]\n      })]\n    })\n  });\n}\n\nexport default Navbar;","map":null,"metadata":{},"sourceType":"module"}