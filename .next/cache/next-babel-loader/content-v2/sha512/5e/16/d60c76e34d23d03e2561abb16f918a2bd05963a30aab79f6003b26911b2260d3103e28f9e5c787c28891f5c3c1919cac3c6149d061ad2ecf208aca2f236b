{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { React, useState, useEffect } from \"react\";\nimport Layout from '../../components/base/Layout';\nimport Footer from '../../components/module/Footer';\nimport Navbar from '../../components/module/Navbar';\nimport Sidebar from '../../components/module/Sidebar';\nimport style from '../../styles/managephone.module.css';\nimport axios from 'axios';\nimport { useRouter } from 'next/router';\nimport Swal from 'sweetalert2';\n\nfunction managePhone() {\n  var router = useRouter();\n\n  var _useState = useState({}),\n      data = _useState[0],\n      setData = _useState[1];\n\n  var handleDelete = function handleDelete(event) {\n    Swal.fire({\n      title: \"Are you sure you want to delete this?\",\n      showDenyButton: true,\n      confirmButtonText: \"Delete\",\n      confirmButtonColor: \"#6379F4\",\n      denyButtonText: \"Cancel\",\n      denyButtonColor: \"#ffba33\",\n      focusDeny: true\n    }).then(function (result) {\n      if (result.isConfirmed) {\n        event.preventDefault();\n        var id = localStorage.getItem('id');\n        var url = \"\".concat(process.env.api, \"/users/delete-phone/\").concat(id); // console.log(url);\n\n        axios.put(url, data.phoneNumber).then(function (data) {\n          router.push(\"/profile\");\n        })[\"catch\"](function (err) {\n          return alert(err);\n        });\n      } else {\n        Swal.fire({\n          title: \"delete canceled\",\n          text: \"\",\n          icon: \"info\",\n          confirmButtonText: \"Ok\",\n          confirmButtonColor: \"#6a4029\"\n        });\n      }\n    });\n  };\n\n  useEffect(function () {\n    var token = localStorage.getItem('token');\n    var url = \"\".concat(process.env.api, \"/users/find-one\");\n    axios.get(url, {\n      headers: {\n        Authorization: 'Bearer ' + token\n      }\n    }).then(function (res) {\n      var data = res.data.data[0];\n      setData(data);\n    })[\"catch\"](function (err) {\n      console.log(err);\n    });\n  }, []);\n  return /*#__PURE__*/_jsxs(Layout, {\n    title: \"Profile | Z-wallet\",\n    children: [/*#__PURE__*/_jsx(Navbar, {}), /*#__PURE__*/_jsx(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsx(\"div\", {\n          className: \"col-lg-4\",\n          children: /*#__PURE__*/_jsx(Sidebar, {})\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: \"col-lg-8\",\n          children: /*#__PURE__*/_jsxs(\"div\", {\n            className: style['card-profile'],\n            children: [/*#__PURE__*/_jsx(\"h6\", {\n              children: \"Manage Phone Number\"\n            }), /*#__PURE__*/_jsxs(\"p\", {\n              children: [\"You can only delete the phone number and then\", /*#__PURE__*/_jsx(\"br\", {}), \" you must add another phone number.\"]\n            }), /*#__PURE__*/_jsxs(\"div\", {\n              className: [[\"d-flex\"], [\"justify-content-between\"], style['card-phone']].join(\" \"),\n              children: [/*#__PURE__*/_jsxs(\"div\", {\n                children: [/*#__PURE__*/_jsx(\"p\", {\n                  children: \"Primary\"\n                }), /*#__PURE__*/_jsx(\"p\", {\n                  children: data.phoneNumber\n                })]\n              }), /*#__PURE__*/_jsx(\"div\", {\n                className: \"mt-3 mr-3\",\n                children: /*#__PURE__*/_jsx(\"img\", {\n                  src: \"/images/trash.png\",\n                  alt: \"delete phone\",\n                  onClick: handleDelete\n                })\n              })]\n            })]\n          })\n        })]\n      })\n    }), /*#__PURE__*/_jsx(Footer, {})]\n  });\n}\n\nexport default managePhone;","map":null,"metadata":{},"sourceType":"module"}