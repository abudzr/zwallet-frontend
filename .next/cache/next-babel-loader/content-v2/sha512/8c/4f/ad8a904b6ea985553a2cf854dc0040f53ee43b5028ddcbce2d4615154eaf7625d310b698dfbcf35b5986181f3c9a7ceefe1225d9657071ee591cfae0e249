{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { React, useState, useEffect } from \"react\";\nimport style from '../../../styles/changepin.module.css';\nimport Button from '../../../components/module/Button';\nimport axios from 'axios';\nimport Swal from 'sweetalert2';\nimport { useRouter } from 'next/router';\nimport InputPin from \"react-pin-input\";\n\nfunction ChangePin() {\n  const router = useRouter();\n  const {\n    0: currentPin,\n    1: setCurrentPin\n  } = useState(null);\n  const {\n    0: pin,\n    1: setPin\n  } = useState(null);\n  const {\n    0: show,\n    1: setShow\n  } = useState(false);\n\n  const handleCurrentChange = value => {\n    // console.log(value);\n    setCurrentPin(value);\n  };\n\n  const handlePinChange = value => {\n    // console.log(value);\n    setPin(value);\n  };\n\n  const handleContinue = () => {\n    setShow(true);\n  }; // let token;\n  // if (typeof window !== \"undefined\") {\n  //     token = localStorage.getItem(\"token\");\n  // }\n\n\n  const handleUpdate = event => {\n    event.preventDefault();\n    const id = localStorage.getItem('id');\n    const url = `${process.env.api}/users/edit-pin/${id}`; // console.log(url);\n\n    axios.put(url, {\n      currentPin: currentPin,\n      pin: pin\n    }).then(res => {\n      router.push(\"/profile\");\n      Swal.fire(\"Success\", \"Update Pin Success!\", \"success\");\n    }, err => {\n      if (err) {\n        setShow(false);\n        Swal.fire(\" ERROR!!!\", \"Update pin Failed!\", \"error\");\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: style['card-profile'],\n    children: [show == false && /*#__PURE__*/_jsxs(_Fragment, {\n      children: [/*#__PURE__*/_jsx(\"h6\", {\n        children: \"Change Pin\"\n      }), /*#__PURE__*/_jsxs(\"p\", {\n        children: [\"Enter your current 6 digits Zwallet PIN below to \", /*#__PURE__*/_jsx(\"br\", {}), \" continue to the next steps.\"]\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: style['input-pin'],\n        children: /*#__PURE__*/_jsx(InputPin, {\n          length: 6,\n          secret: true,\n          onChange: handleCurrentChange,\n          initialValue: \"\",\n          type: \"numeric\",\n          inputMode: \"number\",\n          autoSelect: true,\n          regexCriteria: /^[ A-Za-z0-9_@./#&+-]*$/,\n          focus: true\n        })\n      }), /*#__PURE__*/_jsx(Button, {\n        title: \"Continue\",\n        btn: \"btn-change-pass\",\n        onClick: handleContinue\n      })]\n    }), show == true && /*#__PURE__*/_jsxs(_Fragment, {\n      children: [/*#__PURE__*/_jsx(\"h6\", {\n        children: \"Change Pin\"\n      }), /*#__PURE__*/_jsxs(\"p\", {\n        children: [\"Type your new 6 digits security PIN to use in \", /*#__PURE__*/_jsx(\"br\", {}), \" Zwallet.\"]\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: style['input-pin'],\n        children: /*#__PURE__*/_jsx(InputPin, {\n          length: 6,\n          secret: true,\n          onChange: handlePinChange,\n          initialValue: \"\",\n          type: \"numeric\",\n          inputMode: \"number\",\n          autoSelect: true,\n          regexCriteria: /^[ A-Za-z0-9_@./#&+-]*$/,\n          focus: true\n        })\n      }), /*#__PURE__*/_jsx(Button, {\n        title: \"Change Pin\",\n        btn: \"btn-change-pass\",\n        onClick: handleUpdate\n      })]\n    })]\n  });\n}\n\nexport default ChangePin;","map":null,"metadata":{},"sourceType":"module"}